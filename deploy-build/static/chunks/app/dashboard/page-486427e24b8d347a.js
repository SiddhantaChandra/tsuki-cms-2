(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{40857:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(57515),i=r(95155);let n=(0,a.A)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},42663:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var a=r(12115),i=r(52596),n=r(17472),o=r(75955),s=r(40680),l=r(10186),d=r(57515),c=r(95155);let h=(0,d.A)((0,c.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var x=r(55170),p=r(90870);function u(e){return(0,p.Ay)("MuiAvatar",e)}(0,x.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var b=r(47798);let m=e=>{let{classes:t,variant:r,colorDefault:a}=e;return(0,n.A)({root:["root",r,a&&"colorDefault"],img:["img"],fallback:["fallback"]},u,t)},A=(0,o.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,s.A)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),y=(0,o.Ay)("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),g=(0,o.Ay)(h,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"}),v=a.forwardRef(function(e,t){let r=(0,l.b)({props:e,name:"MuiAvatar"}),{alt:n,children:o,className:s,component:d="div",slots:h={},slotProps:x={},imgProps:p,sizes:u,src:v,srcSet:f,variant:j="circular",...w}=r,k=null,C={...r,component:d,variant:j},I=function(e){let{crossOrigin:t,referrerPolicy:r,src:i,srcSet:n}=e,[o,s]=a.useState(!1);return a.useEffect(()=>{if(!i&&!n)return;s(!1);let e=!0,a=new Image;return a.onload=()=>{e&&s("loaded")},a.onerror=()=>{e&&s("error")},a.crossOrigin=t,a.referrerPolicy=r,a.src=i,n&&(a.srcset=n),()=>{e=!1}},[t,r,i,n]),o}({...p,..."function"==typeof x.img?x.img(C):x.img,src:v,srcSet:f}),R=v||f,W=R&&"error"!==I;C.colorDefault=!W,delete C.ownerState;let z=m(C),[S,M]=(0,b.A)("root",{ref:t,className:(0,i.A)(z.root,s),elementType:A,externalForwardedProps:{slots:h,slotProps:x,component:d,...w},ownerState:C}),[P,N]=(0,b.A)("img",{className:z.img,elementType:y,externalForwardedProps:{slots:h,slotProps:{img:{...p,...x.img}}},additionalProps:{alt:n,src:v,srcSet:f,sizes:u},ownerState:C}),[_,D]=(0,b.A)("fallback",{className:z.fallback,elementType:g,externalForwardedProps:{slots:h,slotProps:x},shouldForwardComponentProp:!0,ownerState:C});return k=W?(0,c.jsx)(P,{...N}):o||0===o?o:R&&n?n[0]:(0,c.jsx)(_,{...D}),(0,c.jsx)(S,{...M,children:k})})},49494:(e,t,r)=>{Promise.resolve().then(r.bind(r,52993))},52993:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var a=r(95155),i=r(12115),n=r(16324),o=r(67217),s=r(54581),l=r(14426),d=r(700),c=r(18407),h=r(71803),x=r(68534),p=r(92302),u=r(72110),b=r(44296),m=r(17976),A=r(56033),y=r(90404),g=r(64263),v=r(99776),f=r(42663),j=r(41101),w=r(76408),k=r(60760),C=r(55954),I=r(40857),R=r(91058),W=r(52511),z=r(88806);let S=(0,r(57515).A)((0,a.jsx)("path",{d:"M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m9 7h-6v13h-2v-6h-2v6H9V9H3V7h18z"}),"Accessibility");var M=r(72093),P=r(6874),N=r.n(P);function _(){let e=(0,C.U)();(0,n.A)();let[t,r]=(0,i.useState)(!0),[P,_]=(0,i.useState)(null),[D,F]=(0,i.useState)({cardCount:0,slabCount:0,accessoryCount:0,totalValue:0}),[H,V]=(0,i.useState)([]);return((0,i.useEffect)(()=>{(async()=>{r(!0),_(null);try{let{data:t,error:r}=await e.from("cards").select("id, name, price, thumbnail_url, created_at");if(r)throw r;let{data:a,error:i}=await e.from("slabs").select("id, name, price, thumbnail_url, created_at");if(i)throw i;let{data:n,error:o}=await e.from("accessories").select("id, name, price, thumbnail_url, created_at");if(o)throw o;let s=(null==t?void 0:t.length)||0,l=(null==a?void 0:a.length)||0,d=(null==n?void 0:n.length)||0,c=(null==t?void 0:t.reduce((e,t)=>e+(t.price||0),0))||0,h=(null==a?void 0:a.reduce((e,t)=>e+(t.price||0),0))||0,x=(null==n?void 0:n.reduce((e,t)=>e+(t.price||0),0))||0;F({cardCount:s,slabCount:l,accessoryCount:d,totalValue:c+h+x});let p=[...(null==t?void 0:t.map(e=>({...e,type:"card"})))||[],...(null==a?void 0:a.map(e=>({...e,type:"slab"})))||[],...(null==n?void 0:n.map(e=>({...e,type:"accessory"})))||[]].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,10);V(p)}catch(e){console.error("Error fetching dashboard data:",e),_("Failed to load dashboard data")}finally{r(!1)}})()},[e]),t)?(0,a.jsx)(o.A,{maxWidth:"xl",sx:{py:3},children:(0,a.jsxs)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:[(0,a.jsx)(l.A,{size:60}),(0,a.jsx)(d.A,{variant:"h6",sx:{ml:2},children:"Loading dashboard..."})]})}):(0,a.jsxs)(o.A,{maxWidth:"xl",sx:{py:3},children:[(0,a.jsx)(w.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:(0,a.jsx)(c.A,{elevation:0,sx:{p:4,mb:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #667eea, #764ba2)"}},children:(0,a.jsxs)(h.A,{direction:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,children:[(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"h4",component:"h1",fontWeight:"bold",sx:{mb:1},children:"Good morning, John! \uD83D\uDC4B"}),(0,a.jsx)(d.A,{variant:"h6",sx:{opacity:.9},children:"Here's what's happening with your card collection today."})]}),(0,a.jsxs)(h.A,{direction:"row",spacing:2,children:[(0,a.jsx)(x.A,{variant:"contained",startIcon:(0,a.jsx)(I.A,{}),component:N(),href:"/dashboard/cards/new",sx:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",fontWeight:600,px:3,py:1.5,borderRadius:3,backdropFilter:"blur(10px)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:"Add Card"}),(0,a.jsx)(x.A,{variant:"contained",startIcon:(0,a.jsx)(I.A,{}),component:N(),href:"/dashboard/slabs/new",sx:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",fontWeight:600,px:3,py:1.5,borderRadius:3,backdropFilter:"blur(10px)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:"Add Slabs"})]})]})})}),(0,a.jsx)(k.N,{children:P&&(0,a.jsx)(w.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,a.jsx)(p.A,{severity:"error",sx:{mb:3,borderRadius:2},children:P})})}),(0,a.jsxs)(s.A,{sx:{display:"flex",gap:3,mb:4,flexWrap:"wrap"},children:[(0,a.jsx)(w.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},style:{flex:1,minWidth:"280px"},children:(0,a.jsx)(c.A,{elevation:0,sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",color:"white",position:"relative",overflow:"hidden",cursor:"pointer",height:"100%","&:hover":{transform:"translateY(-4px)",transition:"transform 0.3s ease"},"&::before":{content:'""',position:"absolute",top:0,right:0,width:"60px",height:"60px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",transform:"translate(20px, -20px)"}},children:(0,a.jsxs)(h.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"h6",sx:{mb:1,opacity:.9},children:"Total Inventory Cost"}),(0,a.jsxs)(d.A,{variant:"h3",fontWeight:"bold",sx:{mb:1},children:["â‚¹",D.totalValue.toLocaleString()]}),(0,a.jsx)(d.A,{variant:"body2",sx:{opacity:.8},children:"vs last month"})]}),(0,a.jsx)(R.A,{sx:{fontSize:32,opacity:.7}})]})})}),(0,a.jsx)(w.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},style:{flex:1,minWidth:"280px"},children:(0,a.jsx)(c.A,{elevation:0,sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #134e5e 0%, #71b280 100%)",color:"white",position:"relative",overflow:"hidden",cursor:"pointer",height:"100%","&:hover":{transform:"translateY(-4px)",transition:"transform 0.3s ease"},"&::before":{content:'""',position:"absolute",top:0,right:0,width:"60px",height:"60px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",transform:"translate(20px, -20px)"}},children:(0,a.jsxs)(h.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"h6",sx:{mb:1,opacity:.9},children:"Total Cards"}),(0,a.jsx)(d.A,{variant:"h3",fontWeight:"bold",sx:{mb:1},children:D.cardCount.toLocaleString()}),(0,a.jsx)(d.A,{variant:"body2",sx:{opacity:.8},children:"in collection"})]}),(0,a.jsx)(W.A,{sx:{fontSize:32,opacity:.7}})]})})}),(0,a.jsx)(w.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},style:{flex:1,minWidth:"280px"},children:(0,a.jsx)(c.A,{elevation:0,sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #aa4b6b 0%, #6b6b83 100%)",color:"white",position:"relative",overflow:"hidden",cursor:"pointer",height:"100%","&:hover":{transform:"translateY(-4px)",transition:"transform 0.3s ease"},"&::before":{content:'""',position:"absolute",top:0,right:0,width:"60px",height:"60px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",transform:"translate(20px, -20px)"}},children:(0,a.jsxs)(h.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"h6",sx:{mb:1,opacity:.9},children:"Total Slabs"}),(0,a.jsx)(d.A,{variant:"h3",fontWeight:"bold",sx:{mb:1},children:D.slabCount.toLocaleString()}),(0,a.jsx)(d.A,{variant:"body2",sx:{opacity:.8},children:"graded cards"})]}),(0,a.jsx)(M.A,{sx:{fontSize:32,opacity:.7}})]})})}),(0,a.jsx)(w.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},style:{flex:1,minWidth:"280px"},children:(0,a.jsx)(c.A,{elevation:0,sx:{p:3,borderRadius:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",position:"relative",overflow:"hidden",cursor:"pointer",height:"100%","&:hover":{transform:"translateY(-4px)",transition:"transform 0.3s ease"},"&::before":{content:'""',position:"absolute",top:0,right:0,width:"60px",height:"60px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",transform:"translate(20px, -20px)"}},children:(0,a.jsxs)(h.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"h6",sx:{mb:1,opacity:.9},children:"Active Users"}),(0,a.jsx)(d.A,{variant:"h3",fontWeight:"bold",sx:{mb:1},children:"2,847"}),(0,a.jsx)(d.A,{variant:"body2",sx:{opacity:.8},children:"this week"})]}),(0,a.jsx)(S,{sx:{fontSize:32,opacity:.7}})]})})})]}),(0,a.jsxs)(c.A,{elevation:1,sx:{p:3,borderRadius:3,mb:3},children:[(0,a.jsx)(d.A,{variant:"h6",fontWeight:"bold",sx:{mb:3},children:"Quick Actions"}),(0,a.jsxs)(u.A,{container:!0,spacing:2,children:[(0,a.jsx)(u.A,{item:!0,xs:12,sm:6,md:3,children:(0,a.jsx)(x.A,{variant:"outlined",fullWidth:!0,startIcon:(0,a.jsx)(W.A,{}),component:N(),href:"/dashboard/cards",sx:{py:2,borderRadius:2},children:"Manage Cards"})}),(0,a.jsx)(u.A,{item:!0,xs:12,sm:6,md:3,children:(0,a.jsx)(x.A,{variant:"outlined",fullWidth:!0,startIcon:(0,a.jsx)(z.A,{}),component:N(),href:"/dashboard/slabs",sx:{py:2,borderRadius:2},children:"Manage Slabs"})}),(0,a.jsx)(u.A,{item:!0,xs:12,sm:6,md:3,children:(0,a.jsx)(x.A,{variant:"outlined",fullWidth:!0,startIcon:(0,a.jsx)(S,{}),component:N(),href:"/dashboard/accessories",sx:{py:2,borderRadius:2},children:"Manage Accessories"})}),(0,a.jsx)(u.A,{item:!0,xs:12,sm:6,md:3,children:(0,a.jsx)(x.A,{variant:"outlined",fullWidth:!0,startIcon:(0,a.jsx)(z.A,{}),component:N(),href:"/dashboard/categories",sx:{py:2,borderRadius:2},children:"Manage Categories"})})]})]}),(0,a.jsxs)(c.A,{elevation:1,sx:{p:3,borderRadius:3,mb:3},children:[(0,a.jsx)(d.A,{variant:"h6",fontWeight:"bold",sx:{mb:3},children:"Recently Added Items"}),0===H.length?(0,a.jsx)(s.A,{sx:{textAlign:"center",py:4},children:(0,a.jsx)(d.A,{color:"text.secondary",children:"No recent items found"})}):(0,a.jsx)(b.A,{children:(0,a.jsxs)(m.A,{children:[(0,a.jsx)(A.A,{children:(0,a.jsxs)(y.A,{children:[(0,a.jsx)(g.A,{children:"Image"}),(0,a.jsx)(g.A,{children:"Name"}),(0,a.jsx)(g.A,{children:"Type"}),(0,a.jsx)(g.A,{children:"Price"}),(0,a.jsx)(g.A,{children:"Added"})]})}),(0,a.jsx)(v.A,{children:H.map((e,t)=>(0,a.jsxs)(y.A,{sx:{"&:hover":{backgroundColor:"action.hover"},"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(g.A,{children:(0,a.jsx)(f.A,{src:e.thumbnail_url,alt:e.name,variant:"rounded",sx:{width:40,height:40},children:e.name.charAt(0)})}),(0,a.jsx)(g.A,{children:(0,a.jsx)(d.A,{variant:"body2",fontWeight:"medium",children:e.name})}),(0,a.jsx)(g.A,{children:(0,a.jsx)(j.A,{label:e.type.charAt(0).toUpperCase()+e.type.slice(1),color:"card"===e.type?"primary":"slab"===e.type?"secondary":"default",size:"small",variant:"outlined"})}),(0,a.jsx)(g.A,{children:(0,a.jsx)(d.A,{variant:"body2",fontWeight:"medium",children:e.price?"â‚¹".concat(e.price.toLocaleString()):"N/A"})}),(0,a.jsx)(g.A,{children:(0,a.jsx)(d.A,{variant:"body2",color:"text.secondary",children:new Date(e.created_at).toLocaleDateString()})})]},"".concat(e.type,"-").concat(e.id)))})]})})]})]})}},55954:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var a=r(81935);function i(){return(0,a.createBrowserClient)("https://zyqebttgsbkjarthknns.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5cWVidHRnc2JramFydGhrbm5zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwNzkxNzcsImV4cCI6MjA2MzY1NTE3N30.o3K5QGPT-BL6y9iBnn4oaxkrD-Oed6mW3TALFk4vqJ8")}},72093:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(57515),i=r(95155);let n=(0,a.A)((0,i.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard")},88806:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(57515),i=r(95155);let n=(0,a.A)([(0,i.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,i.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,i.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category")},91058:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(57515),i=r(95155);let n=(0,a.A)((0,i.jsx)("path",{d:"M13.66 7c-.56-1.18-1.76-2-3.16-2H6V3h12v2h-3.26c.48.58.84 1.26 1.05 2H18v2h-2.02c-.25 2.8-2.61 5-5.48 5h-.73l6.73 7h-2.77L7 14v-2h3.5c1.76 0 3.22-1.3 3.46-3H6V7z"}),"CurrencyRupee")}},e=>{var t=t=>e(e.s=t);e.O(0,[1935,4127,5158,4801,2110,6874,1101,6923,8441,1684,7358],()=>t(49494)),_N_E=e.O()}]);