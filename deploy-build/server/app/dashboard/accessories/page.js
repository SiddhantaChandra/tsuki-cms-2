(()=>{var e={};e.id=8500,e.ids=[8500],e.modules={335:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\siddh\\\\Documents\\\\tsuki-cms-2\\\\app\\\\dashboard\\\\accessories\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\siddh\\Documents\\tsuki-cms-2\\app\\dashboard\\accessories\\page.js","default")},1588:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(23428),i=t(60687);let a=(0,s.A)((0,i.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32052:(e,r,t)=>{"use strict";t.d(r,{ul:()=>a});let s=(e=200,r=200,t="#eeeeee")=>{let s=`<svg width="${e}" height="${r}" viewBox="0 0 ${e} ${r}" xmlns="http://www.w3.org/2000/svg"><rect width="${e}" height="${r}" fill="${t}"/></svg>`;return`data:image/svg+xml;base64,${btoa(s)}`},i=e=>{switch(e){case"thumbnail":return"50px";case"card":return"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw";case"gallery":return"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw";case"hero":return"100vw";default:return"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw"}},a=(e={})=>{let{type:r="thumbnail",quality:t=75,loading:a="lazy"}=e,n={quality:t,loading:a,placeholder:"blur",sizes:i(r)};switch(r){case"thumbnail":return{...n,width:50,height:70,blurDataURL:s(50,70),style:{objectFit:"contain",borderRadius:"4px",transition:"opacity 0.3s ease"}};case"card":return{...n,fill:!0,blurDataURL:s(300,200),style:{objectFit:"cover",borderRadius:"4px 4px 0 0",transition:"transform 0.3s ease, opacity 0.3s ease"}};case"gallery":return{...n,width:400,height:300,blurDataURL:s(400,300),style:{objectFit:"cover",borderRadius:"4px",transition:"opacity 0.3s ease"}};default:return{...n,width:200,height:200,blurDataURL:s(200,200),style:{objectFit:"contain",borderRadius:"4px",transition:"opacity 0.3s ease"}}}}},32444:(e,r,t)=>{Promise.resolve().then(t.bind(t,335))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34747:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=t(65239),i=t(48088),a=t(88170),n=t.n(a),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c={children:["",{children:["dashboard",{children:["accessories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,335)),"C:\\Users\\siddh\\Documents\\tsuki-cms-2\\app\\dashboard\\accessories\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,27577)),"C:\\Users\\siddh\\Documents\\tsuki-cms-2\\app\\dashboard\\layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,32648)),"C:\\Users\\siddh\\Documents\\tsuki-cms-2\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\siddh\\Documents\\tsuki-cms-2\\app\\dashboard\\accessories\\page.js"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/dashboard/accessories/page",pathname:"/dashboard/accessories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},42172:(e,r,t)=>{Promise.resolve().then(t.bind(t,60018))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},60018:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ei});var s=t(60687),i=t(43210),a=t(51067),n=t(21360),o=t(89431),l=t(68887),c=t(87088),d=t(69300),u=t(25685),p=t(76533),h=t(18811),x=t(83685),m=t(16184),g=t(16393),A=t(51711),j=t(58534),v=t(5294),b=t(91176),y=t(33795),f=t(18652),w=t(70604),C=t(88931),k=t(41434),_=t(49205),S=t(57538),z=t(80986),P=t(86862),R=t(24886),$=t(64622),q=t(23789),D=t(52260),M=t(41629),I=t(47651),W=t(21771),F=t(59985),E=t(85814),U=t.n(E),B=t(2420),X=t(3297),T=t(41896),G=t(1588),L=t(78169),O=t(68301),N=t(20029),H=t(59618),V=t(31267);let Y=(0,t(23428).A)((0,s.jsx)("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2m4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2z"}),"ShoppingBag");var K=t(91263),J=t(26001),Q=t(88920),Z=t(30474),ee=t(16189),er=t(96926),et=t(32052);let es=(0,J.P)(a.A);function ei(){let e=(0,B.U)(),r=(0,n.A)(),t=(0,ee.useRouter)(),{isAdmin:E,isEditor:ei}=(0,er.A)(),[ea,en]=(0,i.useState)([]),[eo,el]=(0,i.useState)(0),[ec,ed]=(0,i.useState)([]),[eu,ep]=(0,i.useState)([]),[eh,ex]=(0,i.useState)(!0),[em,eg]=(0,i.useState)(null),[eA,ej]=(0,i.useState)({open:!1,message:"",severity:"success"}),[ev,eb]=(0,i.useState)("grid"),[ey,ef]=(0,i.useState)(!1),[ew,eC]=(0,i.useState)(""),[ek,e_]=(0,i.useState)(1),[eS,ez]=(0,i.useState)(""),[eP,eR]=(0,i.useState)(""),[e$,eq]=(0,i.useState)([0,1e4]),[eD,eM]=(0,i.useState)("created_at"),[eI,eW]=(0,i.useState)("desc"),[eF,eE]=(0,i.useState)(""),[eU,eB]=(0,i.useState)(null),[eX,eT]=(0,i.useState)(!1),eG=(0,i.useMemo)(()=>{if(!ea.length)return{total:0,avgPrice:0,categories:0};let e=ea.reduce((e,r)=>e+(r.price||0),0),r=new Set(ea.map(e=>e.category_id).filter(Boolean));return{total:eo,avgPrice:e/ea.length,categories:r.size}},[ea,eo]),eL=(0,i.useCallback)(async()=>{ex(!0),eg(null);try{let r=e.from("accessories").select(`
          id, name, price, thumbnail_url, image_urls, accessory_type, stock_quantity,
          description, slug, categories (id, name)
        `,{count:"exact"});eF&&(r=r.ilike("name",`%${eF}%`)),eS&&(r=r.eq("category_id",eS)),eP&&(r=r.eq("accessory_type",eP)),e$[0]>0&&(r=r.gte("price",e$[0])),e$[1]<1e4&&(r=r.lte("price",e$[1])),r=r.order(eD,{ascending:"asc"===eI});let t=(ek-1)*20;r=r.range(t,t+20-1);let{data:s,error:i,count:a}=await r;i?(eg("Failed to load accessories: "+i.message),en([])):(en(s||[]),el(a||0))}catch(e){eg("Failed to load accessories"),en([])}finally{ex(!1)}},[e,eF,eS,eP,e$,eD,eI,ek]),eO=e=>{en(r=>r.filter(r=>r.id!==e)),el(e=>e-1),ej({open:!0,message:"Accessory deleted successfully",severity:"success"})},eN=async()=>{ej({open:!0,message:"Export feature coming soon!",severity:"info"})},eH=()=>{eC(""),ez(""),eR(""),eq([0,1e4]),eM("created_at"),eW("desc"),e_(1)},eV=[ew,eS,eP,e$[0]>0||e$[1]<1e4].filter(Boolean).length,eY=Math.ceil(eo/20),eK=e=>{eB(e),eT(!0)},eJ=()=>{eT(!1),eB(null)},eQ=async()=>{if(eU)try{let{error:r}=await e.from("accessories").delete().eq("id",eU.id);if(r)throw r;if(eU.image_urls&&eU.image_urls.length>0){let r=eU.image_urls.map(e=>{let r=e.split("/").slice(-2).join("/");return`accessories/${r}`});await Promise.all(r.map(r=>e.storage.from("cardimages").remove([r])))}if(eU.thumbnail_url){let r=eU.thumbnail_url.split("/").slice(-2).join("/");await e.storage.from("cardimages").remove([`accessories/${r}`])}eO(eU.id),ej({open:!0,message:`Accessory "${eU.name}" deleted successfully.`,severity:"success"})}catch(e){console.error("Error deleting accessory:",e),ej({open:!0,message:`Failed to delete accessory: ${e.message}`,severity:"error"})}finally{eJ()}};return(0,s.jsxs)(o.A,{maxWidth:"xl",sx:{py:3},children:[(0,s.jsxs)(l.A,{"aria-label":"breadcrumb",sx:{mb:3},children:[(0,s.jsxs)(U(),{href:"/dashboard",style:{color:r.palette.text.primary,textDecoration:"none",display:"flex",alignItems:"center"},children:[(0,s.jsx)(V.A,{sx:{mr:.5},fontSize:"small"}),"Dashboard"]}),(0,s.jsxs)(c.A,{color:"text.primary",sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(Y,{sx:{mr:.5},fontSize:"small"}),"Accessories Collection"]})]}),(0,s.jsx)(es,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},elevation:2,sx:{p:4,mb:3,background:`linear-gradient(135deg, ${(0,d.X4)(r.palette.primary.main,.08)} 0%, ${(0,d.X4)(r.palette.secondary.main,.08)} 100%)`,borderRadius:3,border:`1px solid ${(0,d.X4)(r.palette.divider,.12)}`,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${r.palette.primary.main}, ${r.palette.secondary.main})`}},children:(0,s.jsxs)(u.A,{direction:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,children:[(0,s.jsxs)(u.A,{direction:"row",alignItems:"center",spacing:3,children:[(0,s.jsx)(c.A,{variant:"h4",component:"h1",sx:{fontWeight:700,color:r.palette.text.primary,m:0},children:"Accessories"}),(0,s.jsx)(p.A,{icon:(0,s.jsx)(Y,{}),label:`${eG.total} Total Accessories`,color:"primary",variant:"filled",sx:{fontWeight:600,height:40,"& .MuiChip-icon":{fontSize:20}}})]}),(0,s.jsxs)(u.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,s.jsx)(h.A,{title:"Export Collection",children:(0,s.jsx)(x.A,{onClick:eN,disabled:eh,sx:{bgcolor:(0,d.X4)(r.palette.background.paper,.8),"&:hover":{bgcolor:(0,d.X4)(r.palette.background.paper,1),transform:"scale(1.05)"},transition:"all 0.2s ease"},children:(0,s.jsx)(G.A,{})})}),(0,s.jsx)(h.A,{title:"Refresh",children:(0,s.jsx)(x.A,{onClick:eL,disabled:eh,sx:{bgcolor:(0,d.X4)(r.palette.background.paper,.8),"&:hover":{bgcolor:(0,d.X4)(r.palette.background.paper,1),transform:"scale(1.05)"},transition:"all 0.2s ease"},children:(0,s.jsx)(L.A,{})})}),(E?.()||ei?.())&&(0,s.jsx)(m.A,{component:U(),href:"/dashboard/accessories/new",variant:"contained",color:"primary",size:"large",startIcon:(0,s.jsx)(X.A,{}),sx:{borderRadius:3,px:4,py:1.5,fontWeight:600,fontSize:"1rem",boxShadow:`0 4px 12px ${(0,d.X4)(r.palette.primary.main,.3)}`,"&:hover":{transform:"translateY(-2px)",boxShadow:`0 8px 20px ${(0,d.X4)(r.palette.primary.main,.4)}`},transition:"all 0.3s ease"},children:"Add New Accessory"})]})]})}),(0,s.jsx)(a.A,{elevation:0,sx:{mb:3,p:2,borderRadius:2,border:`1px solid ${(0,d.X4)(r.palette.divider,.1)}`},children:(0,s.jsxs)(u.A,{direction:{xs:"column",md:"row"},spacing:2,alignItems:"center",children:[(0,s.jsx)(g.A,{placeholder:"Search accessories...",value:ew,onChange:e=>eC(e.target.value),InputProps:{startAdornment:(0,s.jsx)(A.A,{position:"start",children:(0,s.jsx)(T.A,{})}),endAdornment:ew&&(0,s.jsx)(A.A,{position:"end",children:(0,s.jsx)(x.A,{size:"small",onClick:()=>eC(""),children:(0,s.jsx)(K.A,{fontSize:"small"})})})},sx:{flexGrow:1,"& .MuiOutlinedInput-root":{borderRadius:2}}}),(0,s.jsxs)(u.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,s.jsx)(j.A,{badgeContent:eV,color:"primary",children:(0,s.jsx)(m.A,{variant:"outlined",startIcon:(0,s.jsx)(H.A,{}),onClick:()=>ef(!0),sx:{borderRadius:2},children:"Filters"})}),eV>0&&(0,s.jsx)(v.A,{in:!0,children:(0,s.jsx)(m.A,{size:"small",onClick:eH,sx:{borderRadius:2},children:"Clear All"})}),(0,s.jsx)(b.A,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),(0,s.jsxs)(y.A,{value:ev,exclusive:!0,onChange:(e,r)=>r&&eb(r),"aria-label":"view mode",size:"small",children:[(0,s.jsx)(f.A,{value:"table","aria-label":"table view",children:(0,s.jsx)(O.A,{})}),(0,s.jsx)(f.A,{value:"grid","aria-label":"grid view",children:(0,s.jsx)(N.A,{})})]})]})]})}),eV>0&&(0,s.jsx)(w.A,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,s.jsx)(C.A,{sx:{mb:2},children:(0,s.jsxs)(u.A,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:[ew&&(0,s.jsx)(p.A,{label:`Search: ${ew}`,onDelete:()=>eC(""),size:"small"}),eS&&(0,s.jsx)(p.A,{label:`Category: ${ec.find(e=>e.id===eS)?.name}`,onDelete:()=>ez(""),size:"small"}),eP&&(0,s.jsx)(p.A,{label:`Type: ${eP}`,onDelete:()=>eR(""),size:"small"}),(e$[0]>0||e$[1]<1e4)&&(0,s.jsx)(p.A,{label:`Price: ₹${e$[0]} - ₹${e$[1]}`,onDelete:()=>eq([0,1e4]),size:"small"})]})})}),em&&(0,s.jsx)(v.A,{in:!0,children:(0,s.jsx)(k.A,{severity:"error",sx:{mb:2},action:(0,s.jsx)(m.A,{color:"inherit",size:"small",onClick:eL,children:"Retry"}),children:em})}),eh?(0,s.jsx)(C.A,{children:"grid"===ev?(0,s.jsx)(_.A,{container:!0,spacing:3,children:[...Array(8)].map((e,r)=>(0,s.jsx)(_.A,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,s.jsx)(S.A,{variant:"rectangular",height:320,sx:{borderRadius:2}})},r))}):[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,s.jsx)(S.A,{variant:"rectangular",height:80,sx:{mb:1,borderRadius:1}},r))}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.N,{mode:"wait",children:(0,s.jsx)(J.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:"grid"===ev?(0,s.jsx)(_.A,{container:!0,spacing:3,children:ea.map(e=>(0,s.jsx)(_.A,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,s.jsxs)(z.A,{sx:{height:"100%",display:"flex",flexDirection:"column","&:hover":{transform:"translateY(-4px)",boxShadow:6},transition:"all 0.3s ease"},children:[(0,s.jsx)(C.A,{sx:{position:"relative",paddingTop:"133.33%"},children:e.thumbnail_url?(0,s.jsx)(Z.default,{src:e.thumbnail_url,alt:e.name,fill:!0,style:{objectFit:"contain"},...(0,et.ul)({type:"card",quality:80})}):(0,s.jsx)(C.A,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.1)",color:"text.secondary"},children:"No Image"})}),(0,s.jsxs)(P.A,{sx:{flexGrow:1},children:[(0,s.jsx)(c.A,{variant:"h6",component:"h3",noWrap:!0,children:e.name}),e.accessory_type&&(0,s.jsx)(p.A,{label:e.accessory_type,size:"small",sx:{mb:1}}),(0,s.jsxs)(c.A,{variant:"h6",color:"primary",children:["₹",e.price.toFixed(2)]}),(E?.()||ei?.())&&(0,s.jsxs)(u.A,{direction:"row",spacing:1,sx:{mt:2},children:[(0,s.jsx)(m.A,{size:"small",variant:"outlined",onClick:()=>t.push(`/dashboard/accessories/${e.id}/edit`),children:"Edit"}),(0,s.jsx)(m.A,{size:"small",variant:"outlined",color:"error",onClick:()=>eK(e),children:"Delete"})]})]})]})},e.id))}):(0,s.jsx)("div",{children:"Table view placeholder - AccessoriesTable component needs to be created"})},ev)}),eY>1&&(0,s.jsx)(C.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,s.jsx)(R.A,{count:eY,page:ek,onChange:(e,r)=>e_(r),color:"primary",size:"large",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{borderRadius:2}}})})]}),(0,s.jsx)($.Ay,{anchor:"right",open:ey,onClose:()=>ef(!1),PaperProps:{sx:{width:320,p:3,borderRadius:"16px 0 0 16px"}},children:(0,s.jsxs)(C.A,{children:[(0,s.jsxs)(u.A,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,s.jsx)(c.A,{variant:"h6",sx:{fontWeight:600},children:"Filters"}),(0,s.jsx)(x.A,{onClick:()=>ef(!1),children:(0,s.jsx)(K.A,{})})]}),(0,s.jsxs)(u.A,{spacing:3,children:[(0,s.jsxs)(q.A,{fullWidth:!0,children:[(0,s.jsx)(D.A,{children:"Category"}),(0,s.jsxs)(M.A,{value:eS,label:"Category",onChange:e=>{ez(e.target.value),e_(1)},children:[(0,s.jsx)(I.A,{value:"",children:(0,s.jsx)("em",{children:"All Categories"})}),ec.map(e=>(0,s.jsx)(I.A,{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)(q.A,{fullWidth:!0,children:[(0,s.jsx)(D.A,{children:"Accessory Type"}),(0,s.jsxs)(M.A,{value:eP,label:"Accessory Type",onChange:e=>{eR(e.target.value),e_(1)},children:[(0,s.jsx)(I.A,{value:"",children:(0,s.jsx)("em",{children:"All Types"})}),eu.map(e=>(0,s.jsx)(I.A,{value:e,children:e},e))]})]}),(0,s.jsxs)(C.A,{children:[(0,s.jsxs)(c.A,{gutterBottom:!0,children:["Price Range: ₹",e$[0]," - ₹",e$[1]]}),(0,s.jsx)(W.Ay,{value:e$,onChange:(e,r)=>{eq(r),e_(1)},valueLabelDisplay:"auto",min:0,max:1e4,sx:{mt:2}})]}),(0,s.jsxs)(q.A,{fullWidth:!0,children:[(0,s.jsx)(D.A,{children:"Sort By"}),(0,s.jsxs)(M.A,{value:eD,label:"Sort By",onChange:e=>{eM(e.target.value),e_(1)},children:[(0,s.jsx)(I.A,{value:"created_at",children:"Date Added"}),(0,s.jsx)(I.A,{value:"name",children:"Name"}),(0,s.jsx)(I.A,{value:"price",children:"Price"}),(0,s.jsx)(I.A,{value:"stock_quantity",children:"Stock"})]})]}),(0,s.jsxs)(q.A,{fullWidth:!0,children:[(0,s.jsx)(D.A,{children:"Order"}),(0,s.jsxs)(M.A,{value:eI,label:"Order",onChange:e=>{eW(e.target.value),e_(1)},children:[(0,s.jsx)(I.A,{value:"desc",children:"Descending"}),(0,s.jsx)(I.A,{value:"asc",children:"Ascending"})]})]}),(0,s.jsx)(b.A,{}),(0,s.jsxs)(u.A,{direction:"row",spacing:2,children:[(0,s.jsx)(m.A,{fullWidth:!0,variant:"outlined",onClick:eH,children:"Clear All"}),(0,s.jsx)(m.A,{fullWidth:!0,variant:"contained",onClick:()=>ef(!1),children:"Apply"})]})]})]})}),eX&&(0,s.jsx)(C.A,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:eJ,children:(0,s.jsxs)(a.A,{sx:{p:3,borderRadius:2,maxWidth:400,mx:2},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Confirm Delete"}),(0,s.jsxs)(c.A,{sx:{mb:3},children:['Are you sure you want to delete "',eU?.name,'"? This action cannot be undone.']}),(0,s.jsxs)(u.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,s.jsx)(m.A,{variant:"outlined",onClick:eJ,children:"Cancel"}),(0,s.jsx)(m.A,{variant:"contained",color:"error",onClick:eQ,children:"Delete"})]})]})}),(0,s.jsx)(F.A,{open:eA.open,autoHideDuration:6e3,onClose:()=>ej({...eA,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,s.jsx)(k.A,{onClose:()=>ej({...eA,open:!1}),severity:eA.severity,variant:"filled",elevation:6,children:eA.message})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78169:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(23428),i=t(60687);let a=(0,s.A)((0,i.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80986:(e,r,t)=>{"use strict";t.d(r,{A:()=>m});var s=t(43210),i=t(49384),a=t(99282),n=t(13555),o=t(84754),l=t(51067),c=t(4144),d=t(82816);function u(e){return(0,d.Ay)("MuiCard",e)}(0,c.A)("MuiCard",["root"]);var p=t(60687);let h=e=>{let{classes:r}=e;return(0,a.A)({root:["root"]},u,r)},x=(0,n.Ay)(l.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),m=s.forwardRef(function(e,r){let t=(0,o.b)({props:e,name:"MuiCard"}),{className:s,raised:a=!1,...n}=t,l={...t,raised:a},c=h(l);return(0,p.jsx)(x,{className:(0,i.A)(c.root,s),elevation:a?8:void 0,ref:r,ownerState:l,...n})})},81630:e=>{"use strict";e.exports=require("http")},86862:(e,r,t)=>{"use strict";t.d(r,{A:()=>x});var s=t(43210),i=t(49384),a=t(99282),n=t(13555),o=t(84754),l=t(4144),c=t(82816);function d(e){return(0,c.Ay)("MuiCardContent",e)}(0,l.A)("MuiCardContent",["root"]);var u=t(60687);let p=e=>{let{classes:r}=e;return(0,a.A)({root:["root"]},d,r)},h=(0,n.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),x=s.forwardRef(function(e,r){let t=(0,o.b)({props:e,name:"MuiCardContent"}),{className:s,component:a="div",...n}=t,l={...t,component:a},c=p(l);return(0,u.jsx)(h,{as:a,className:(0,i.A)(c.root,s),ownerState:l,ref:r,...n})})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96926:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(43210),i=t(2420);async function a(e,r,t){let{data:s,error:i}=await e.from("user_roles").select(`
      role_id,
      roles:role_id (
        role_permissions (
          permission_id,
          permissions:permission_id (
            name
          )
        )
      )
    `).eq("user_id",r);return i?(console.error("Error checking user permission:",i),!1):s.some(e=>e.roles.role_permissions.some(e=>e.permissions.name===t))}function n(){let e=(0,i.U)(),[r,t]=(0,s.useState)(!0),[n,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),x=(0,s.useCallback)(e=>!!p&&!r&&!!l&&!!d&&0!==d.length&&d.some(r=>r&&r.name===e),[p,r,l,d]),m=(0,s.useCallback)(async t=>{if(!p||r||!l)return!1;try{return await a(e,l,t)}catch(e){return console.error("Error checking permission:",e.message||e),!1}},[p,r,e,l]),g=(0,s.useCallback)(()=>x("admin"),[x]),A=(0,s.useCallback)(()=>x("editor")||x("admin"),[x]),j=(0,s.useCallback)(()=>x("viewer")||x("editor")||x("admin"),[x]);return{userId:l,userRoles:d,loading:r,error:n,initialized:p,checkRole:x,checkPermission:m,isAdmin:g,isEditor:A,isViewer:j}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,1103,1658,4468,2153,4112,8164,8102,6393,9205,5814,6533,8743,8811,8858,3156],()=>t(34747));module.exports=s})();