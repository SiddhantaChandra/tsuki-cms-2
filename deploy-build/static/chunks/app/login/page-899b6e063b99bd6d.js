(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{7365:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>h});var s=r(95155),t=r(12115),n=r(67217),i=r(54581),u=r(700),l=r(78449),o=r(92302),d=r(68534),m=r(35695),c=r(55954);function h(){let e=(0,m.useRouter)(),a=(0,c.U)(),[r,h]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[I,x]=(0,t.useState)(null),[b,f]=(0,t.useState)(!1),v=async s=>{s.preventDefault(),f(!0),x(null);let{data:t,error:n}=await a.auth.signInWithPassword({email:r,password:p});if(n){x(n.message),f(!1);return}if(t.user){let{data:r,error:s}=await a.from("admin_list").select("email").eq("email",t.user.email).single();s||!r?(x("Access Denied. You are not an authorized admin."),await a.auth.signOut(),f(!1)):e.push("/dashboard")}else x("An unexpected error occurred during login."),f(!1)};return(0,s.jsx)(n.A,{component:"main",maxWidth:"xs",children:(0,s.jsxs)(i.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,s.jsx)(u.A,{component:"h1",variant:"h5",children:"Sign In"}),(0,s.jsxs)(i.A,{component:"form",onSubmit:v,noValidate:!0,sx:{mt:1},children:[(0,s.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:r,onChange:e=>h(e.target.value),disabled:b}),(0,s.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:p,onChange:e=>g(e.target.value),disabled:b}),I&&(0,s.jsx)(o.A,{severity:"error",sx:{mt:2},children:I}),(0,s.jsx)(d.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:b,children:b?"Signing In...":"Sign In"})]})]})})}},27545:(e,a,r)=>{Promise.resolve().then(r.bind(r,7365))},35695:(e,a,r)=>{"use strict";var s=r(18999);r.o(s,"useParams")&&r.d(a,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}})},55954:(e,a,r)=>{"use strict";r.d(a,{U:()=>t});var s=r(81935);function t(){return(0,s.createBrowserClient)("https://zyqebttgsbkjarthknns.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp5cWVidHRnc2JramFydGhrbm5zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwNzkxNzcsImV4cCI6MjA2MzY1NTE3N30.o3K5QGPT-BL6y9iBnn4oaxkrD-Oed6mW3TALFk4vqJ8")}}},e=>{var a=a=>e(e.s=a);e.O(0,[1935,4127,5158,2842,9295,8449,8441,1684,7358],()=>a(27545)),_N_E=e.O()}]);